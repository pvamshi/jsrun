(window.webpackJsonprunjs=window.webpackJsonprunjs||[]).push([[0],{106:function(e,t,n){e.exports=n(139)},111:function(e,t,n){},120:function(e,t,n){},139:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(17),o=n.n(c),i=(n(111),n(13)),u=n.n(i),s=n(18),l=n(23),m=n(152),f=n(153),p=n(143),h=r.a.createContext(null),d="github-user";function b(){return v.apply(this,arguments)}function v(){return(v=Object(s.a)(u.a.mark(function e(){var t,n,a,r,c,o,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=localStorage.getItem(d))){e.next=5;break}return e.abrupt("return",JSON.parse(t));case 5:if(n=window.location.href.match(/\?code=(.*)/)&&window.location.href.match(/\?code=(.*)/)[1]){e.next=8;break}return e.abrupt("return",null);case 8:return e.prev=8,e.next=11,fetch("https://pqsq24y7vb.execute-api.us-east-1.amazonaws.com/github/authenticate?code="+n);case 11:return a=e.sent,e.next=14,a.json();case 14:return r=e.sent,c=r.access_token,e.next=18,fetch("https://api.github.com/user",{headers:{Authorization:"token ".concat(c)}});case 18:if(!((o=e.sent).status>400)){e.next=21;break}throw new Error("Unauthorized");case 21:return e.t0=Object,e.next=24,o.json();case 24:return e.t1=e.sent,e.t2={token:c},i=e.t0.assign.call(e.t0,e.t1,e.t2),localStorage.setItem(d,JSON.stringify(Object.assign(i))),e.abrupt("return",i);case 31:return e.prev=31,e.t3=e.catch(8),e.abrupt("return",null);case 34:case"end":return e.stop()}},e,null,[[8,31]])}))).apply(this,arguments)}var j=r.a.memo(function(){var e=Object(a.useContext)(h);return e?r.a.createElement(m.a,{src:e.avatar_url,style:{height:"40px"}}):r.a.createElement(f.a,{href:"https://github.com/login/oauth/authorize?client_id=5baaa09a82442f96fb0d&scope=gist&redirect_uri=https://jsrun.dev",label:"Log in ",icon:r.a.createElement(p.a,null)})}),O=n(149),g=n(154),w=n(155),x=r.a.memo(function(e){var t=e.gist,n=e.selectGist;return r.a.createElement(O.a,{pad:"small",key:t.id},r.a.createElement(g.a,null,t.description||Object.keys(t.files)[0]),Object.values(t.files).filter(function(e){return"JavaScript"===e.language}).map(function(e){return Object.assign({},e,{id:t.id})}).map(function(e,t){return r.a.createElement(w.a,{margin:"small",key:e.filename+t,hoverIndicator:!0,onClick:function(){return n(e)}},r.a.createElement(g.a,null,e.filename))}))}),E=r.a.memo(function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],o=(Object(a.useContext)(h)||{}).token;return Object(a.useEffect)(function(){function e(){return(e=Object(s.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.github.com/gists",{headers:{Authorization:"token ".concat(o)}});case 2:return t=e.sent,e.t0=c,e.next=6,t.json();case 6:e.t1=e.sent,(0,e.t0)(e.t1);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[o]),n&&n.filter(function(e){return Object.keys(e.files).length>0&&Object.values(e.files).some(function(e){return"JavaScript"===e.language})}).map(function(e){return r.a.createElement(x,{key:e.id,gist:e,selectGist:function(){}})})}),k=n(33),y=(n(120),n(34)),C=n(150),S=n(85),N=n(86),z=n(144),J=n(26),I=n(145),W=n(19),G=n(147),U=n(11),H=n(148);function T(){var e=Object(k.a)(["\n                width: 200px;\n                position: absolute;\n                right: ","px;\n              "]);return T=function(){return e},e}function _(){var e=Object(k.a)(["\n    flex-grow: 2;\n    overflow: auto;\n    padding-left :10px;\n  "]);return _=function(){return e},e}function A(){var e=Object(k.a)(["\n    position: absolute;\n    left: ","px;\n    top: 48vh;\n    transform: rotate(","deg);\n    & button:hover {\n      background: none !important;\n    }\n  "]);return A=function(){return e},e}function R(){var e=Object(k.a)(["\n    width: ","px;\n    height: calc(100vh - ","px);\n    overflow: auto;\n    position: relative;\n    padding: ","px;\n  "]);return R=function(){return e},e}function q(){var e=Object(k.a)(["\n    height: calc(100vh - ","px);\n    top: ","px;\n    width: 100%;\n    display: flex;\n    align-items: stretch;\n    overflow: hidden;\n  "]);return q=function(){return e},e}var B=r.a.memo(function(e){var t=e.SidenavContents,n=e.Main,c=e.User,o=(Object(a.useContext)(h)||{}).token,i=Object(a.useState)(!0),u=Object(l.a)(i,2),s=u[0],m=u[1],f=Object(y.a)(q(),50,50),p=Object(y.a)(R(),o&&s?250:16,50,s?20:0),d=Object(y.a)(A(),o&&s?233:4,s?0:180),b=Object(y.a)(_());return r.a.createElement(a.Fragment,null,r.a.createElement(C.a,null,r.a.createElement(S.a,null,r.a.createElement(N.a,null,r.a.createElement(z.a,null,"JSrun"))),r.a.createElement(S.a,{align:J.a.RIGHT},r.a.createElement(c,null))),r.a.createElement("section",{className:f},o&&r.a.createElement(I.a,{elevation:W.a.TWO,className:p},r.a.createElement("section",{className:Object(y.a)(T(),s?0:40)},r.a.createElement(t,null))),r.a.createElement(n,{className:b}),r.a.createElement("section",{className:d},r.a.createElement(G.a,{content:s?"Hide (Cmd+[)":"Show (Cmd+[)",position:U.a.RIGHT},r.a.createElement(H.a,{onClick:function(){return m(!s)},icon:"one-column",minimal:!0})))))}),F=n(90),M=n(91),P=n(94),$=n(92),K=n(37),L=n(95),D=n(93),Q=n.n(D),V=(n(136),n(138),n(146)),X=function(e){function t(e){var n;return Object(F.a)(this,t),(n=Object(P.a)(this,Object($.a)(t).call(this,e))).iframe=void 0,n.state={content:"// Open dev tools to see the output\t\n console.log('Hello World');"},n.run=n.run.bind(Object(K.a)(n)),n.updateCode=n.updateCode.bind(Object(K.a)(n)),n}return Object(L.a)(t,e),Object(M.a)(t,[{key:"updateCode",value:function(e){this.setState({content:e})}},{key:"run",value:function(){this.iframe.contentWindow.eval(this.state.content)}},{key:"componentWillUpdate",value:function(){var e=Object(s.a)(u.a.mark(function e(t,n){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(a=t.externalContent)&&a!==this.state.content&&this.setState({content:a});case 2:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(Q.a,{mode:"javascript",theme:"github",onChange:this.updateCode,name:"js-editor",value:this.state.content,focus:!0,editorProps:{$blockScrolling:!0},width:"100%",commands:[{name:"Execute",bindKey:{win:"Ctrl-Enter",mac:"Command-Enter"},exec:this.run}]}),r.a.createElement(w.a,{onClick:this.run,primary:!0,icon:r.a.createElement(V.a,null),label:"Run"}),r.a.createElement("iframe",{title:"dummy",style:{display:"none"},ref:function(t){return e.iframe=t}}," "))}}]),t}(a.Component),Y=r.a.memo(function(e){var t=e.selectedGist,n=(Object(a.useContext)(h)||{}).token,c=Object(a.useState)(null),o=Object(l.a)(c,2),i=o[0],m=o[1];return Object(a.useEffect)(function(){function e(){return(e=Object(s.a)(u.a.mark(function e(){var a,r,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&t.id&&n)){e.next=16;break}return e.prev=1,e.next=4,fetch("https://api.github.com/gists/"+t.id,{headers:{Authorization:"token ".concat(n)}});case 4:if(!((a=e.sent).status>400)){e.next=7;break}throw new Error("Unauthorized");case 7:return e.next=9,a.json();case 9:r=e.sent,c=r.files[t.filename],m(c.content),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(1);case 16:case"end":return e.stop()}},e,null,[[1,14]])}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[t,n]),r.a.createElement(X,{externalContent:i})});n(151).a.onlyShowFocusOnTabs();var Z=r.a.memo(function(e){var t=e.className;return r.a.createElement("main",{className:t},r.a.createElement(Y,null))}),ee=r.a.memo(function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)(function(){function e(){return(e=Object(s.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,b();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]),r.a.createElement(h.Provider,{value:n},r.a.createElement(B,{SidenavContents:E,Main:Z,User:j}))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[106,1,2]]]);
//# sourceMappingURL=main.87d80394.chunk.js.map