(window.webpackJsonprunjs=window.webpackJsonprunjs||[]).push([[0],{111:function(e,t,n){e.exports=n(143)},116:function(e,t,n){},143:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(19),o=n.n(c),i=(n(116),n(13)),u=n.n(i),s=n(20),l=n(24),m=n(156),f=n(157),p=n(147),h=r.a.createContext(null),d="github-user";function b(){return v.apply(this,arguments)}function v(){return(v=Object(s.a)(u.a.mark((function e(){var t,n,a,r,c,o,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=localStorage.getItem(d))){e.next=5;break}return e.abrupt("return",JSON.parse(t));case 5:if(n=window.location.href.match(/\?code=(.*)/)&&window.location.href.match(/\?code=(.*)/)[1]){e.next=8;break}return e.abrupt("return",null);case 8:return e.prev=8,e.next=11,fetch("https://pqsq24y7vb.execute-api.us-east-1.amazonaws.com/github/authenticate?code="+n);case 11:return a=e.sent,e.next=14,a.json();case 14:return r=e.sent,c=r.access_token,e.next=18,fetch("https://api.github.com/user",{headers:{Authorization:"token ".concat(c)}});case 18:if(!((o=e.sent).status>400)){e.next=21;break}throw new Error("Unauthorized");case 21:return e.t0=Object,e.next=24,o.json();case 24:return e.t1=e.sent,e.t2={token:c},i=e.t0.assign.call(e.t0,e.t1,e.t2),localStorage.setItem(d,JSON.stringify(Object.assign(i))),e.abrupt("return",i);case 31:return e.prev=31,e.t3=e.catch(8),e.abrupt("return",null);case 34:case"end":return e.stop()}}),e,null,[[8,31]])})))).apply(this,arguments)}var j=r.a.memo((function(){var e=Object(a.useContext)(h);return e?r.a.createElement(m.a,{src:e.avatar_url,style:{height:"40px"}}):r.a.createElement(f.a,{href:"https://github.com/login/oauth/authorize?client_id=5baaa09a82442f96fb0d&scope=gist&redirect_uri=https://jsrun.dev",label:"Log in ",icon:r.a.createElement(p.a,null)})})),g=n(153),O=n(158),x=n(159),E=r.a.memo((function(e){var t=e.gist,n=e.selectGist;return r.a.createElement(g.a,{pad:"small",key:t.id},r.a.createElement(O.a,null,t.description||Object.keys(t.files)[0]),Object.values(t.files).filter((function(e){return"JavaScript"===e.language})).map((function(e){return Object.assign({},e,{id:t.id})})).map((function(e,t){return r.a.createElement(x.a,{margin:"small",key:e.filename+t,hoverIndicator:!0,onClick:function(){return n(e)}},r.a.createElement(O.a,null,e.filename))})))}));function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object(a.useState)(e),n=Object(l.a)(t,2),r=n[0],c=n[1];return{gists:r,updateGists:function(e){return c(e)}}}var k=n(44),y=r.a.memo((function(){var e=(Object(a.useContext)(h)||{}).token,t=Object(k.useStore)(w),n=t.gists,c=t.updateGists;return Object(a.useEffect)((function(){function t(){return(t=Object(s.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://api.github.com/gists",{headers:{Authorization:"token ".concat(e)}});case 3:if(n=t.sent,t.t0=c,!(n.status>400)){t.next=9;break}t.t1=[],t.next=12;break;case 9:return t.next=11,n.json();case 11:t.t1=t.sent;case 12:t.t2=t.t1,(0,t.t0)(t.t2),t.next=19;break;case 16:t.prev=16,t.t3=t.catch(0),c([]);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})))).apply(this,arguments)}e&&!n&&function(){t.apply(this,arguments)}()}),[e,n,c]),n&&n.filter((function(e){return Object.keys(e.files).length>0&&Object.values(e.files).some((function(e){return"JavaScript"===e.language}))})).map((function(e){return r.a.createElement(E,{key:e.id,gist:e,selectGist:function(){}})}))})),C=(n(67),n(154)),S=n(96),z=n(97),G=n(149),J=n(27),N=n(36),H=n(37),I=n(148),W=n(21),U=n(151),M=n(11),T=n(152);function _(){var e=Object(N.a)(["\n            width: 200px;\n            position: absolute;\n            right: "," ? 0 : 40}px;\n          "]);return _=function(){return e},e}function A(){var e=Object(N.a)(["\n    position: absolute;\n    left: ","px;\n    top: 48vh;\n    transform: rotate(","deg);\n    & button:hover {\n      background: none !important;\n    }\n  "]);return A=function(){return e},e}function F(){var e=Object(N.a)(["\n    flex-grow: 2;\n    overflow: auto;\n    z-index: -10;\n  "]);return F=function(){return e},e}function P(){var e=Object(N.a)(["\n    width: ","px;\n    overflow: auto;\n    padding: ","px;\n    position: relative;\n  "]);return P=function(){return e},e}function R(){var e=Object(N.a)(["\n    display: flex;\n    align-items: stretch;\n    overflow: hidden;\n    height: calc(100vh - ","px);\n    top: ","px;\n    width: 100%;\n  "]);return R=function(){return e},e}var q=r.a.memo((function(e){var t=e.SidenavContents,n=e.MainContents,c=e.headerHeight,o=(Object(a.useContext)(h)||{}).token,i=Object(a.useState)(!0),u=Object(l.a)(i,2),s=u[0],m=u[1],f=Object(H.a)(R(),c,c),p=Object(H.a)(P(),o&&s?250:16,s?20:0),d=Object(H.a)(F()),b=Object(H.a)(A(),o&&s?233:4,s?0:180);return r.a.createElement("div",{className:f},r.a.createElement(I.a,{elevation:W.a.TWO,className:p},r.a.createElement("div",{className:Object(H.a)(_(),s)},s&&r.a.createElement(t,null))),r.a.createElement("main",{className:d},r.a.createElement(n,null)),r.a.createElement("div",{className:b},r.a.createElement(U.a,{content:s?"Hide (Cmd+[)":"Show (Cmd+[)",position:M.a.RIGHT},r.a.createElement(T.a,{onClick:function(){return m(!s)},icon:"one-column",minimal:!0}))))})),B=r.a.memo((function(e){var t=e.SidenavContents,n=e.Main,c=e.User;return r.a.createElement(a.Fragment,null,r.a.createElement(C.a,null,r.a.createElement(S.a,null,r.a.createElement(z.a,null,r.a.createElement(G.a,null,"JSrun"))),r.a.createElement(S.a,{align:J.a.RIGHT},r.a.createElement(c,null))),r.a.createElement(q,{headerHeight:50,SidenavContents:t,MainContents:n}))})),$=n(98),K=n(99),L=n(102),D=n(43),Q=n(29),V=n(100),X=n(101),Y=n.n(X),Z=(n(140),n(142),n(150)),ee=function(e){function t(e){var n;return Object($.a)(this,t),(n=Object(L.a)(this,Object(D.a)(t).call(this,e))).iframe=void 0,n.state={content:"// Open dev tools to see the output\t\n console.log('Hello World');"},n.run=n.run.bind(Object(Q.a)(n)),n.updateCode=n.updateCode.bind(Object(Q.a)(n)),n}return Object(V.a)(t,e),Object(K.a)(t,[{key:"updateCode",value:function(e){this.setState({content:e})}},{key:"run",value:function(){this.iframe.contentWindow.eval(this.state.content)}},{key:"componentWillUpdate",value:function(){var e=Object(s.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=t.externalContent)&&a!==this.state.content&&this.setState({content:a});case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(a.Fragment,null,r.a.createElement(Y.a,{mode:"javascript",theme:"github",onChange:this.updateCode,name:"js-editor",value:this.state.content,focus:!0,editorProps:{$blockScrolling:!0},width:"100%",commands:[{name:"Execute",bindKey:{win:"Ctrl-Enter",mac:"Command-Enter"},exec:this.run}]}),r.a.createElement(x.a,{onClick:this.run,primary:!0,icon:r.a.createElement(Z.a,null),label:"Run"}),r.a.createElement("iframe",{title:"dummy",style:{display:"none"},ref:function(t){return e.iframe=t}}," "))}}]),t}(a.Component),te=r.a.memo((function(e){var t=e.selectedGist,n=(Object(a.useContext)(h)||{}).token,c=Object(a.useState)(null),o=Object(l.a)(c,2),i=o[0],m=o[1];return Object(a.useEffect)((function(){function e(){return(e=Object(s.a)(u.a.mark((function e(){var a,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&t.id&&n)){e.next=16;break}return e.prev=1,e.next=4,fetch("https://api.github.com/gists/"+t.id,{headers:{Authorization:"token ".concat(n)}});case 4:if(!((a=e.sent).status>400)){e.next=7;break}throw new Error("Unauthorized");case 7:return e.next=9,a.json();case 9:r=e.sent,c=r.files[t.filename],m(c.content),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(1);case 16:case"end":return e.stop()}}),e,null,[[1,14]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,n]),r.a.createElement(ee,{externalContent:i})}));n(155).a.onlyShowFocusOnTabs();var ne=r.a.memo((function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){function e(){return(e=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,b();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement(h.Provider,{value:n},r.a.createElement(k.Provider,{stores:[w]},r.a.createElement(B,{SidenavContents:y,Main:te,User:j})))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},67:function(e,t,n){}},[[111,1,2]]]);
//# sourceMappingURL=main.ca8618c0.chunk.js.map